<div id="content">
	<div class="row">
		<sa-big-breadcrumbs [items]="['Data', 'Data Location']" icon="table"
			class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>

	</div>
	<sa-widgets-grid>
	<div class="row">
		<article class="col-sm-9 col-md-9 col-lg-9">

			<div sa-widget [editbutton]="false" [fullscreenbutton]="false"
				color="blueDark">
				<header>
					<span class="widget-icon"> <i class="fa fa-table"></i>
					</span>

					<h2>Data Location</h2>
					<div class="align-left">
						<a class="addLocation" (click)="lgModal.show()"> <i
							class="fa fa-plus"></i> <span class="hidden-mobile">Add</span>
						</a> <a class="addLocation" (click)="tagModal.show()"> <i
							class="fa fa-plus"></i> <span class="hidden-mobile">Add/Edit
								Tag</span>
						</a>
					</div>
				</header>


				<div>
					<div class="widget-body no-padding">
						<div class="lightest-gray-bg">
							<div class="row" style="padding: 8px 12px">
								<div class="col-md-6">
									<div class="input-group">
										<div class="icon-addon">
											<input type="text" id="search" class="form-control"
												[(ngModel)]="controls.filter"
												placeholder='Type to filter the table...'
												(keyup)='updateFilter($event)'> <label
												style="z-index: 22" for="search" class="fa fa-search"
												rel="tooltip" title="search"></label>
										</div>
									</div>
								</div>

							</div>
							<ngx-datatable style="height: 50vh" #myTable
								class='table-striped' [columnMode]="'force'" [headerHeight]="40"
								[footerHeight]="45" [rowHeight]="35" [scrollbarV]="35"
								[rows]="rows"
								[cssClasses]="{
            sortAscending: 'fa fa-sort-up',
            sortDescending: 'fa fa-sort-down',
            pagerLeftArrow: 'fa  fa-angle-left',
            pagerRightArrow: 'fa fa-angle-right',
            pagerPrevious: 'fa fa-angle-double-left',
            pagerNext: 'fa fa-angle-double-right'
          }">

							<!-- Column Templates --> 
								<ngx-datatable-column name="Action" [resizeable]="true"
								[sortable]="true" [draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template>
							<div>
								<i class="fa fa-edit" (click)="edit(row)"></i> &nbsp;&nbsp;<i
									class="fa fa-trash" (click)="delete(row)"></i>
							</div>
							</ng-template> </ngx-datatable-column>
							<ngx-datatable-column name="Status"
								[resizeable]="true" [sortable]="true" [draggable]="true"
								[canAutoResize]="true"> <ng-template
								let-row="row" ngx-datatable-cell-template><div>
								
									<span class="btn bg-color-green txt-color-white btn-xs" (click)="Active(row)">Active</span> 
									
									
							</div>
							</ng-template> </ngx-datatable-column> 
							
							<ngx-datatable-column name="Type" [resizeable]="true"
								[sortable]="true" [draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" ngx-datatable-cell-template>
							<strong>{{row.type}}</strong> </ng-template> </ngx-datatable-column> 
						
							<ngx-datatable-column
								name="Name" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" ngx-datatable-cell-template>
							<strong (click)="get(row)">{{row.name}}</strong> </ng-template> </ngx-datatable-column>
							
							 <ngx-datatable-column
								name="Host" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.host}}</strong>
							</ng-template> </ngx-datatable-column> 
							
							<ngx-datatable-column
								name="Bucket" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.bucket}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="URL" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.url}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="User" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.user}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Driver" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.driver}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Tags" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.tags}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Schema" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.schema}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Description" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.description}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Sync" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <div>
								
									<span class="btn bg-color-green txt-color-white btn-xs" (click)="Sync(row)">Sync</span> 
									
									
							</div>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Test" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <div>
								
								<span class="btn bg-color-green txt-color-white btn-xs" (click)="Test(row)">Test</span> 
									
							</div>
							</ng-template> </ngx-datatable-column>
 </ngx-datatable>


						</div>
					</div>
				</div>
			</div>


		</article>

	
	
		<article class="col-sm-3 col-md-3 col-lg-3">

			<div sa-widget [editbutton]="false" [fullscreenbutton]="false"
				color="blueDark">
				<header>
					<span class="widget-icon"> <i class="fa fa-table"></i>
					</span>

					<h2>Properties</h2>
									</header>


				<div>
					<div class="widget-body no-padding">
						<div class="lightest-gray-bg">
							<div class="row" style="padding: 8px 12px">
								<div class="col-md-6">
									<div class="input-group">
										
									</div>
								</div>

							</div>
						
						<div class=propertiesBox>
											<label>Check Connection Query</label> <br>
											<input type="text"  class="form-control"
													placeholder='Check Connection Query'> 
												
										</div>

						</div>
					</div>
				</div>
			</div>


		</article>
	</div>
	</sa-widgets-grid>
</div>


<!--add -->
<div class="">
	<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1"
		role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" (click)="lgModal.hide()"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">Add Data Location</h4>
				</div>
				<div class="modal-body">
				

  <!-- widget div-->
  <div>
		
    <!-- widget content -->
    <div class="widget-body fuelux">
      <fuel-ux-wizard >
        <div class="wizard">
          <div class="steps-container">
            <ul class="steps">
              <li data-step="1" class="active">
                <span class="badge badge-info">1</span>General Information<span class="chevron"></span>
              </li>
              <li data-step="2">
                <span class="badge">2</span>Properties<span class="chevron"></span>
              </li>
             
            </ul>
          </div>
         
        </div>
        <div class="step-content">
          <form class="form-horizontal" >

						<!-- ...................	General information tab..................... -->
            <div class="step-pane active" data-step="1">
							 <form id="smart-form-information" class="smart-form client-form" #generalForm="ngForm">
           
             
            <fieldset>
            
            <div class="row">
                <section class="col col-6">
                  <label class="select" >TYPE
                    <select name="type"  [(ngModel)]="information.type"  #type="ngModel"> Select type
                      <option value="0" selected disabled>Select type</option>
                      <option value="DB">DB</option>
                      <option value="FTP">FTP</option>
                      <option value="SFTP">SFTP</option>
					  <option value="FILE">FILE</option>
					  <option value="API">API</option>
					  <option value="S3">S3</option>
					  <option value="KAFKA">KAFKA</option>
					  <option value="ELASTIC SEARCH">ELASTIC SEARCH</option>
					  <option value="SOLR">SOLR</option>
					  <option value="HDFS">HDFS</option>
                   
					</select> </label>
                </section>
                <section class="col col-6">
                  <label class="input">NAME
                    <input type="text" name="name" pattern="^[a-zA-Z]+$" required [(ngModel)]="information.name" placeholder="Name" #name="ngModel">
                  </label>
                  <div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger" >
                    <div [hidden]="!name.errors.required">
                      name is required!
                    </div>
                    <div [hidden]="name.errors.required">
                      Please enter valid input
                   </div>
                </div>
                </section>
              </div>
            
              <section >
                  <label class="select">  DB
                    <select name="db" [(ngModel)]="information.db" #db="ngModel" (ngModelChange)="onChange(db)" >
                      <option value="0" selected disabled>Select DB</option>
                      <option value="MYSQL">MYSQL</option>
                      <option value="SQL SERVER">SQL SERVER</option>
					  <option value="ORACLE">ORACLE</option>
					  <option value="HIVE">HIVE</option>
					  <option value="REDSHIFT">REDSHIFT</option>
					  <option value="PERSTO">PERSTO</option>
					  <option value="DRILL">DRILL</option>
					  <option value="SPARK SQL">SPARK SQL</option>
					  <option value="AS400">AS400</option>
					  <option value="MONGO">MONGO</option>
                   
                    </select> </label>
								</section>
								
								<div class="row">
										<section class="col col-6">
											<label class="input">HOST
													<input type="text" required [(ngModel)]="information.host" name="host" placeholder="Host" #host="ngModel">
													</label>
												</section>
												<section class="col col-6">
														<label class="input">PORT
																<input type="text" required [(ngModel)]="information.port" pattern="^[0-9]+$" name="port" placeholder="Port" #port="ngModel">
																</label>
																<div *ngIf="port.errors && (port.dirty || port.touched)" class="alert alert-danger" >
																	<div [hidden]="!port.errors.required">
																	  port is required!
																	</div>
																	<div [hidden]="port.errors.required">
																	  Please enter valid input
																   </div>
																</div>
															</section>
									</div>
									<div class="row">
											<section class="col col-6">
												<label class="input">USER
														<input type="text" required [(ngModel)]="information.user" name="user" placeholder="user" #user="ngModel">
														</label>
													</section>
													<section class="col col-6">
															<label class="input">PASSWORD
																	<input type="password" required [(ngModel)]="information.password" name="password" placeholder="password" #password="ngModel">
																	</label>
																</section>
										</div>
									
	
								


              <section>
                <label class="input"> DRIVER
                  <input type="text" required [(ngModel)]="information.driver" name="driver" placeholder="Driver" #driver="ngModel">
                 </label> 
              </section>
              <section>
                <label class="input"> DB URL
                  <input type="text" required [(ngModel)]="information.dburl" pattern="^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$" name="dburl" placeholder="DB URL" id="dburl" #dburl="ngModel">
				 </label>  
				 <div *ngIf="dburl.errors && (dburl.dirty || dburl.touched)" class="alert alert-danger" >
					<div [hidden]="!dburl.errors.required">
					  port is required!
					</div>
					<div [hidden]="dburl.errors.required">
					  Please enter valid input
				   </div>
				</div>
              </section>

              <section>
                <label class="input"> DESCRIPTION 
                  <input type="text" [(ngModel)]="information.desc"  name="desc" placeholder="Description" id="desc" #desc="ngModel">
                 </label> 
                  
              </section>

              
            </fieldset>

            <fieldset>
              
            </fieldset>
            <footer>
								<div class="actions">
										
										<button type="button" class="btn btn-sm btn-success btn-next" [disabled]="!generalForm.form.valid" >
											Next<i class="fa fa-arrow-right"></i>
										</button>
										<button type="button" class="btn btn-sm btn-primary btn-prev">
											<i class="fa fa-arrow-left"></i>Prev
										</button>
									</div>
            
            </footer>

            
          </form>
			
						</div>

					<!-- ...................	Properties tab..................... -->

						<div class="step-pane active" data-step="2">
								<h1>Properties</h1>
								<form id="smart-form-properties" class="smart-form client-form" #generalForm2="ngForm">
           
             
										<fieldset>
										
										
											<section>
												<label class="input"> Check connection Query
													<input type="text" [(ngModel)]="information.query" required name="query" placeholder="Check Connection Query" id="query" #query="ngModel">
												 </label> 
													
											</section>
				
											
										</fieldset>
				
									
										<footer>
												<div class="actions">
														
														<button type="button" (click)="save(information)" class="btn btn-sm btn-success btn-next" [disabled]="!generalForm2.form.valid" >
														Finish
														</button>
														<button type="button" class="btn btn-sm btn-primary btn-prev">
															<i class="fa fa-arrow-left"></i>Prev
														</button>

												</div>
										
										</footer>
				
										
									</form>

						
							</div>
          </form>
        </div>
      </fuel-ux-wizard>
    </div>
    <!-- end widget content -->

  
  <!-- end widget div -->
				</div>
				
				</div>
			</div>
		</div>
	</div>


</div>
<!--add-->
<!--add tag-->
<div class="">
	<div bsModal #tagModal="bs-modal" class="modal fade" tabindex="-1"
		role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" (click)="tagModal.hide()"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">tag modal</h4>
				</div>
				<div class="modal-body">...</div>
			</div>
		</div>
	</div>


</div>
<!--end add tag-->

<!-- end well-->

