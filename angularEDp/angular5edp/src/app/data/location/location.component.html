<div id="content">
	<div class="row">
		<sa-big-breadcrumbs [items]="['Data', 'Data Location']" icon="table"
			class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>

	</div>
	<sa-widgets-grid>
	<div class="row">
		<article class="col-sm-9 col-md-9 col-lg-9">

			<div sa-widget [editbutton]="false" [fullscreenbutton]="false"
				color="blueDark">
				<header>
					<span class="widget-icon"> <i class="fa fa-table"></i>
					</span>

					<h2>Data Location</h2>
					<div class="align-left">
						<a class="addLocation" (click)="lgModal.show()"> <i
							class="fa fa-plus"></i> <span class="hidden-mobile">Add</span>
						</a> <a class="addLocation" (click)="tagModal.show()"> <i
							class="fa fa-plus"></i> <span class="hidden-mobile">Add/Edit
								Tag</span>
						</a>
					</div>
				</header>


				<div>
					<div class="widget-body no-padding">
						<div class="lightest-gray-bg">
							<div class="row" style="padding: 8px 12px">
								<div class="col-md-6">
									<div class="input-group">
										<div class="icon-addon">
											<input type="text" id="search" class="form-control"
												[(ngModel)]="controls.filter"
												placeholder='Type to filter the table...'
												(keyup)='updateFilter($event)'> <label
												style="z-index: 22" for="search" class="fa fa-search"
												rel="tooltip" title="search"></label>
										</div>
									</div>
								</div>

							</div>
							<ngx-datatable style="height: 50vh" #myTable
								class='table-striped' [columnMode]="'force'" [headerHeight]="40"
								[footerHeight]="45" [rowHeight]="35" [scrollbarV]="35"
								[rows]="rows"
								[cssClasses]="{
            sortAscending: 'fa fa-sort-up',
            sortDescending: 'fa fa-sort-down',
            pagerLeftArrow: 'fa  fa-angle-left',
            pagerRightArrow: 'fa fa-angle-right',
            pagerPrevious: 'fa fa-angle-double-left',
            pagerNext: 'fa fa-angle-double-right'
          }">

							<!-- Column Templates --> 
								<ngx-datatable-column name="Action" [resizeable]="true"
								[sortable]="true" [draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template>
							<div>
								<i class="fa fa-edit" (click)="edit(row)"></i> &nbsp;&nbsp;<i
									class="fa fa-trash" (click)="delete(row)"></i>
							</div>
							</ng-template> </ngx-datatable-column>
							<ngx-datatable-column name="Status"
								[resizeable]="true" [sortable]="true" [draggable]="true"
								[canAutoResize]="true"> <ng-template
								let-row="row" ngx-datatable-cell-template><div>
								
									<span class="btn bg-color-green txt-color-white btn-xs" (click)="Active(row)">Active</span> 
									
									
							</div>
							</ng-template> </ngx-datatable-column> 
							
							<ngx-datatable-column name="Type" [resizeable]="true"
								[sortable]="true" [draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" ngx-datatable-cell-template>
							<strong>{{row.type}}</strong> </ng-template> </ngx-datatable-column> 
						
							<ngx-datatable-column
								name="Name" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" ngx-datatable-cell-template>
							<strong (click)="get(row)">{{row.name}}</strong> </ng-template> </ngx-datatable-column>
							
							 <ngx-datatable-column
								name="Host" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.host}}</strong>
							</ng-template> </ngx-datatable-column> 
							
							<ngx-datatable-column
								name="Bucket" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.bucket}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="URL" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.url}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="User" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.user}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Driver" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.driver}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Tags" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.tags}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Schema" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.schema}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Description" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <strong>{{row.description}}</strong>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Sync" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <div>
								
									<span class="btn bg-color-green txt-color-white btn-xs" (click)="Sync(row)">Sync</span> 
									
									
							</div>
							</ng-template> </ngx-datatable-column>
							
							<ngx-datatable-column
								name="Test" [resizeable]="true" [sortable]="true"
								[draggable]="true" [canAutoResize]="true">
							<ng-template let-row="row" let-value="value"
								ngx-datatable-cell-template> <div>
								
								<span class="btn bg-color-green txt-color-white btn-xs" (click)="Test(row)">Test</span> 
									
							</div>
							</ng-template> </ngx-datatable-column>
 </ngx-datatable>


						</div>
					</div>
				</div>
			</div>


		</article>

	
	
		<article class="col-sm-3 col-md-3 col-lg-3">

			<div sa-widget [editbutton]="false" [fullscreenbutton]="false"
				color="blueDark">
				<header>
					<span class="widget-icon"> <i class="fa fa-table"></i>
					</span>

					<h2>Properties</h2>
									</header>


				<div>
					<div class="widget-body no-padding">
						<div class="lightest-gray-bg">
							<div class="row" style="padding: 8px 12px">
								<div class="col-md-6">
									<div class="input-group">
										
									</div>
								</div>

							</div>
						
						<div class=propertiesBox>
											<label>Check Connection Query</label> <br>
											<input type="text"  class="form-control"
													placeholder='Check Connection Query'> 
												
										</div>

						</div>
					</div>
				</div>
			</div>


		</article>
	</div>
	</sa-widgets-grid>
</div>


<!--add -->
<div class="">
	<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1"
		role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" (click)="lgModal.hide()"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">Add Data Location</h4>
				</div>
				<div class="modal-body">
				

  <!-- widget div-->
  <div>
		
    <!-- widget content -->
    <div class="widget-body fuelux">
      <fuel-ux-wizard (complete)="onWizardComplete($event)">
        <div class="wizard">
          <div class="steps-container">
            <ul class="steps">
              <li data-step="1" class="active">
                <span class="badge badge-info">1</span>General Information<span class="chevron"></span>
              </li>
              <li data-step="2">
                <span class="badge">2</span>Properties<span class="chevron"></span>
              </li>
             
            </ul>
          </div>
          <div class="actions">
            <button type="button" class="btn btn-sm btn-primary btn-prev">
              <i class="fa fa-arrow-left"></i>Prev
            </button>
            <button type="button" class="btn btn-sm btn-success btn-next" data-last="Finish">
              Next<i class="fa fa-arrow-right"></i>
            </button>
          </div>
        </div>
        <div class="step-content">
          <form class="form-horizontal" >

            <div class="step-pane active" data-step="1">
							 <form id="smart-form-register" class="smart-form client-form" #generalForm="ngForm">
           
             
            <fieldset>
            
            <div class="row">
                <section class="col col-6">
                  <label class="select">
                    <select name="type"> Select type
                      <option value="0" selected disabled>Select type</option>
                      <option value="1">DB</option>
                      <option value="2">FTP</option>
                      <option value="3">SMTP</option>
                    </select> <i></i> </label>
                </section>
                <section class="col col-6">
                  <label class="input">
                    <input type="text" name="name" pattern="^[a-zA-Z]+$" required [(ngModel)]="information.name" placeholder="Name" #name="ngModel">
                  </label>
                  <div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger" >
                    <div [hidden]="!name.errors.required">
                      name is required!
                    </div>
                    <div [hidden]="name.errors.required">
                      Please enter valid input
                   </div>
                </div>
                </section>
              </div>
            
              <section >
                  <label class="select"> Select DB
                    <select name="db">
                      <option value="0" selected disabled>Select DB</option>
                      <option value="1">MYSQL</option>
                      <option value="2">SQL SERVER</option>
                      <option value="3">ORACLE</option>
                    </select> </label>
                </section>

              <section>
                <label class="input"> Driver
                  <input type="text" required [(ngModel)]="information.driver" name="driver" placeholder="Driver" #driver="ngModel">
                 </label> 
              </section>
              <section>
                <label class="input"> DB url
                  <input type="text" required [(ngModel)]="information.dburl"  name="dburl" placeholder="DB URL" id="dburl" #dburl="ngModel">
                 </label>  
              </section>

              <section>
                <label class="input"> Description 
                  <input type="text" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" required [(ngModel)]="information.desc"  name="desc" placeholder="Description" id="desc" #desc="ngModel">
                 </label> 
                  
              </section>

              
            </fieldset>

            <fieldset>
              
            </fieldset>
            <footer>
              <!-- <button (click)="register(user)" [disabled]="!generalForm.form.valid" class="btn btn-primary">
                
              </button> -->
            </footer>

            
          </form>
			
						</div>
						<div class="step-pane active" data-step="2">
								<h1>Properties</h1>
				
							</div>
          </form>
        </div>
      </fuel-ux-wizard>
    </div>
    <!-- end widget content -->

  
  <!-- end widget div -->
				</div>
				
				</div>
			</div>
		</div>
	</div>


</div>
<!--add-->
<!--add tag-->
<div class="">
	<div bsModal #tagModal="bs-modal" class="modal fade" tabindex="-1"
		role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" (click)="tagModal.hide()"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">tag modal</h4>
				</div>
				<div class="modal-body">...</div>
			</div>
		</div>
	</div>


</div>
<!--end add tag-->

<!-- end well-->

