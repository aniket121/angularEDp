<div id="content">
		<div class="row">
		   <sa-big-breadcrumbs [items]="['Data', 'Data Location']" icon="table"
			  class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>
		</div>
		<sa-widgets-grid>
		   <div class="row">
			  <article class="col-sm-12 col-md-12 col-lg-12">
				 <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
				 color="blueDark">
				 <header>
					<span class="widget-icon"> <i class="fa fa-table"></i>
					</span>
					<h2>Data Location</h2>
					<div class="align-left">
					   <a class="addLocation" (click)="lgModal.show()"> <i
						  class="fa fa-plus"></i> <span class="hidden-mobile">Add</span>
					   </a> 
					</div>
				 </header>
				 <div>
					<div class="widget-body no-padding">
					   <div class="lightest-gray-bg">
						  <div class="row" style="padding: 8px 12px">
							 <div class="col-md-6">
								<div class="input-group">
								   <div class="icon-addon">
									  <input type="text" id="search" class="form-control"
									  [(ngModel)]="controls.filter"
									  placeholder='Type to filter the table...'
									  (keyup)='updateFilter($event)'> <label
										 style="z-index: 22" for="search" class="fa fa-search"
										 rel="tooltip" title="search"></label>
								   </div>
								</div>
							 </div>
						  </div>
						  <ngx-datatable   style="height: 50vh" #myTable
						  class='table-striped' [columnMode]="'force'" [headerHeight]="40"
						  [footerHeight]="45" [rowHeight]="35" [scrollbarV]="35" [scrollbarH]="true"
						  [rows]="locationData"
						  [cssClasses]="{
						  sortAscending: 'fa fa-sort-up',
						  sortDescending: 'fa fa-sort-down',
						  pagerLeftArrow: 'fa  fa-angle-left',
						  pagerRightArrow: 'fa fa-angle-right',
						  pagerPrevious: 'fa fa-angle-double-left',
						  pagerNext: 'fa fa-angle-double-right'
						  }">
						  <!-- Column Templates --> 
						   <ngx-datatable-column name="Add/edit Tag" [resizeable]="true"
						  [sortable]="true" [draggable]="true" [width]="100" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template>
							 <div>
								<i class="fa fa-edit" (click)="edit(row)" (click)="tagModal.show()"></i> 
							 </div>
						  </ng-template>
						  </ngx-datatable-column>

						  <ngx-datatable-column name="Action" [resizeable]="true"
						  [sortable]="true" [draggable]="true" [width]="55" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template>
							 <div>
								<i class="fa fa-edit" (click)="edit(row)" (click)="lgModal.show()"></i> &nbsp;&nbsp;<i
								   class="fa fa-trash" (click)="delete(row)"></i>
							 </div>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column name="Status"
						  [resizeable]="true" [sortable]="true" [width]="100" [draggable]="true"
						  [canAutoResize]="true"> 
						  <ng-template let-row="row" ngx-datatable-cell-template>
							 <div>
								<span  *ngIf="row.status===1" class="activestatus font" >Active</span> 
								<span *ngIf="row.status===0" class="font disabledstatus">Disabled</span> 
							 </div>
						  </ng-template>
						  </ngx-datatable-column> 
						  <ngx-datatable-column name="Type" [resizeable]="true"
						  [sortable]="true" [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" ngx-datatable-cell-template>
							 <span *ngIf="row.type==='TABLE'" class="fa fa-table fa-2x location-icons">    {{row.type}} </span> 
							 <span *ngIf="row.type==='S3'" class="fa fa-cloud fa-2x location-icons">    {{row.type}}</span> 
							 <span *ngIf="row.type==='HDFS'" class="fa fa-files-o fa-2x location-icons">    {{row.type}}</span>
							 <span *ngIf="row.type==='DB'" class="fa fa-database fa-2x location-icons">   {{row.type}}</span>
							 <span *ngIf="row.type==='API'" class="fa fa-gear fa-2x location-icons">    {{row.type}}</span>
							 <span *ngIf="row.type==='KAFKA'" class="fa fa-files-o fa-2x location-icons">    {{row.type}}</span>
							 <span *ngIf="row.type==='FILE'" class="fa fa-file-text-o fa-2x location-icons">    {{row.type}}</span>
							 <span *ngIf="row.type==='WEBHDFS'" class="fa fa-files-o fa-2x location-icons">    {{row.type}}</span>
							 <span *ngIf="row.type==='FTP'" class="fa fa-folder fa-2x location-icons">     {{row.type}}</span>
							 <span *ngIf="row.type==='STREAM'" class="fa fa-files-o fa-2x location-icons">    KAFKA</span>
							 <span *ngIf="row.type==='SFTP'" class="fa fa-folder fa-2x  location-icons">    {{row.type}}</span>
							 <span *ngIf="row.type==='HBASE'" class="fa fa-files-o fa-2x  location-icons">    {{row.type}}</span>
							 <span *ngIf="row.type==='SOLR'" class="fa fa-files-o fa-2x  location-icons">    {{row.type}}</span>

						  </ng-template>
						  </ngx-datatable-column> 
						  <ngx-datatable-column
						  name="Name"  [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" ngx-datatable-cell-template>
							 <p (click)="getRowData(row)">{{row.name}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="Host" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template><p (click)="getRowData(row)"> {{row.host}}</p>
						  </ng-template>
						  </ngx-datatable-column> 
						  <ngx-datatable-column
						  name="Bucket" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template><p (click)="getRowData(row)">{{row.bucket}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="URL" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template> <p (click)="getRowData(row)">{{row.url}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="User" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template><p (click)="getRowData(row)"> {{row.user}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="Driver" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template><p (click)="getRowData(row)"> {{row.driver}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="Tags" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template> <p (click)="getRowData(row)">{{row.tags}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="Schema" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template><p (click)="getRowData(row)"> {{row.schema}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="Description" [resizeable]="true" [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template><p (click)="getRowData(row)"> {{row.description}}</p>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="Sync" [resizeable]="true" [sortable]="true"
						  [draggable]="true"  [width]=100 [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template>
							 <div>
								<span class="btn bg-color-green txt-color-white btn-xs" (click)="syncData(row.name)">Sync</span> 
							 </div>
						  </ng-template>
						  </ngx-datatable-column>
						  <ngx-datatable-column
						  name="Test" [resizeable]="true" [width]=100 [sortable]="true"
						  [draggable]="true" [canAutoResize]="true">
						  <ng-template let-row="row" let-value="value"
							 ngx-datatable-cell-template>
							 <div>
								<span class="btn bg-color-green txt-color-white btn-xs" (click)="testData(row.name)">Test</span> 
							 </div>
						  </ng-template>
						  </ngx-datatable-column>
						  </ngx-datatable>
					   </div>
					</div>
				 </div>
		   </div>
		   </article>
		   <article class="col-sm-12 col-md-12 col-lg-12">
			  <div sa-widget [editbutton]="false" [fullscreenbutton]="false"
			  color="blueDark">
			  <header>
				 <span class="widget-icon"> <i class="fa fa-table"></i>
				 </span>
				 <h2>Properties</h2>
			  </header>
			  <div>
				 <div class="widget-body no-padding">
					<div class="lightest-gray-bg">
					   <div class="row" style="padding: 8px 12px">
						  <div class="col-md-6">
							 <div class="input-group">
							 </div>
						  </div>
					   </div>
					   <div class=propertiesBox>
						  <label>Check Connection Query</label> <br>
						  <input type="text"  class="form-control"
							 placeholder='Check Connection Query'> 
					   </div>
					</div>
				 </div>
			  </div>
	 </div>
	 </article>
	 </div>
	 </sa-widgets-grid>
	 </div>
	 <!--add -->
	 <div class="lgmodel" id="lgmodel" #lgmodel >
		<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1"
		   role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
		   <div class="modal-dialog modal-lg">
			  <div class="modal-content">
				 <div class="modal-header">
					<button type="button" class="close" (click)="lgModal.hide()"
					   aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">Add/Edit Data Location</h4>
				 </div>
				 <div class="modal-body">
					<!-- widget div-->
					<div>

					   <!-- widget content -->
					   <div class="widget-body fuelux">
						  <fuel-ux-wizard >
							 <div class="wizard">
								<div class="steps-container">
								   <ul class="steps">
									  <li data-step="1" class="active">
										 <span class="badge badge-info">1</span>General Information<span class="chevron"></span>
									  </li>
									  <li data-step="2">
										 <span class="badge">2</span>Properties<span class="chevron"></span>
									  </li>
								   </ul>
								</div>
							 </div>
							 <div class="step-content">
							 
							  
								<form class="form-horizontal" >
								   <!-- ...................	General information tab..................... -->
								   <div class="step-pane active" data-step="1">
								<form id="smart-form-information" class="smart-form client-form" #generalForm="ngForm">
								<fieldset >
								<div class="row">
								<section class="col col-6" >
								<label class="select" >TYPE
								<select name="type"  [(ngModel)]="information.type"  #type="ngModel" (ngModelChange)="locationFormChange(information.type)"> Select type
								<option value="0" selected disabled>Select type</option>
								<option value="DB">DB</option>
								<option value="FTP">FTP</option>
								<option value="SFTP">SFTP</option>
								<option value="FILE">FILE</option>
								<option value="API">API</option>
								<option value="S3">S3</option>
								<option value="KAFKA">KAFKA</option>
								<option value="ELASTIC SEARCH">ELASTIC SEARCH</option>
								<option value="SOLR">SOLR</option>
								<option value="HDFS">HDFS</option>
								</select> </label>
								</section>
								<section class="col col-6" *ngIf="db || ftp || file || api || s3 || kafka || elasticsearch || solr || hdfs">
								<label class="input">NAME
								<input type="text" name="name" pattern="^[a-zA-Z]+$" required [(ngModel)]="information.name" placeholder="Name" #name="ngModel">
								</label>
								<div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger" >
								<div [hidden]="!name.errors.required">
								name is required!
								</div>
								<div [hidden]="name.errors.required">
								Please enter valid input
								</div>
								</div>
								</section>
								</div>
								<section *ngIf="db">
								<label class="select">  DB
								<select name="db" [(ngModel)]="information.db" #db="ngModel" (ngModelChange)="onChange()" >
								<option  *ngFor="let drivers of driverData" [value]="drivers.value">{{drivers.key}}</option>
								</select> </label>
								</section>
								<div class="row">
								<section class="col col-6" *ngIf="db || kafka">
								<label class="input">HOST
								<input type="text" required [(ngModel)]="information.host" name="host" placeholder="Host" #host="ngModel">
								</label>
								</section>
								<section class="col col-6" *ngIf="db || kafka">
								<label class="input">PORT
								<input type="text" required [(ngModel)]="information.port" pattern="^[0-9]+$" name="port" placeholder="Port" #port="ngModel">
								</label>
								<div *ngIf="port.errors && (port.dirty || port.touched)" class="alert alert-danger" >
								<div [hidden]="!port.errors.required">
								port is required!
								</div>
								<div [hidden]="port.errors.required">
								Please enter valid input
								</div>
								</div>
								</section>
								</div>
								<div class="row" >
								<section class="col col-6" *ngIf="db || ftp || !file && !elasticsearch && !hdfs && !solr && !api && !s3 && !kafka ">
								<label class="input">USER
								<input type="text" required [(ngModel)]="information.user" name="user" placeholder="user" #user="ngModel">
								</label>
								</section>
								<section class="col col-6" *ngIf="db || ftp || !file && !elasticsearch && !hdfs && !solr && !api && !s3 && !kafka">
								<label class="input">PASSWORD
								<input type="password" required [(ngModel)]="information.password" name="password" placeholder="password" #password="ngModel">
								</label>
								</section>
								</div>
								<section *ngIf="db">
								<label class="input"> DRIVER
								<input type="text" required [(ngModel)]="information.driver" name="driver" placeholder="Driver" #driver="ngModel">
								</label> 
								</section>
								<!-- ########  FTP COMPONENT ######## -->
								<section *ngIf="ftp && !db || s3" >
									<label class="input"> FOLDER
									<input type="text" required [(ngModel)]="information.folder" name="folder" placeholder="Folder" #folder="ngModel">
									</label> 
								</section>
								<section *ngIf="ftp  && !db || s3">
									<label class="input"> ENCRYPTION KEY
									<input type="text" required [(ngModel)]="information.encryption_key" name="encryption_key" placeholder="Encryption key" #encryption_key="ngModel">
									</label> 
								</section>
								<section *ngIf="ftp  && !db || s3">
									<label class="input"> ENCRYPTION DIGEST
									<input type="text" required [(ngModel)]="information.encryption_digest" name="encryption_digest" placeholder="Encryption Digest" #encryption_digest="ngModel">
									</label> 
								</section>
								<section *ngIf="ftp || s3">
									<label class="input"> SSL
									<input type="text" required [(ngModel)]="information.ssl" name="ssl" placeholder="SSL" #ssl="ngModel">
									</label> 
								</section>
								<section *ngIf="ftp || s3">
									<label class="select" >AUTH TYPE
									<select name="authtype"  [(ngModel)]="information.auth_type"  #authtype="ngModel"> Select type
									<option value="0" selected disabled>Select Auth type</option>
									<option value="Auth1">OAuth1</option>								
									</select> </label>
								</section>
								<section *ngIf="ftp">
									<label class="input"> PRIVATE KEY
									<input type="text" required [(ngModel)]="information.private_key" name="private_key" placeholder="Private key" #private_key="ngModel">
									</label> 
								</section>
								<section *ngIf="ftp">
									<label class="input"> PARAPHRASE
									<input type="text" required [(ngModel)]="information.paraphrase" name="paraphrase" placeholder="paraphrase" #paraphrase="ngModel">
									</label> 
								</section>

								<!-- ######## End FTP COMPONENT ######## -->
								 
								<!-- ########  API COMPONENT ######## -->
								<div class="row" *ngIf="!db && !ftp && !file && !elasticsearch && !hdfs && !solr && !kafka || api || s3">
									<section class="col col-6">
										<label class="input">ACCESS/API KEY
										<input type="text" required [(ngModel)]="information.access_key" name="access_key" placeholder="Access key" #access_key="ngModel">
										</label>
									</section>
									<section class="col col-6" *ngIf="!db || !ftp || !kafka || api || s3">
										<label class="input">SECRET KEY
										<input type="text" required [(ngModel)]="information.secret_key"  name="secret_key" placeholder="Secret key" #secret_key="ngModel">
										</label>
									</section>
								</div>
								<section *ngIf="!db && !ftp && !file && !elasticsearch && !hdfs && !solr && !s3 || api || kafka  ">
									<label class="input">SCHEMA
									<input type="text" required [(ngModel)]="information.schema"  name="schema" placeholder="Schema" #schema="ngModel">
									</label>
								</section>

									
								<!-- ######## End API COMPONENT ######## -->

								<!-- ########  S3 COMPONENT ######## -->
								
									
								<section *ngIf="!db && !ftp && !file && !elasticsearch && !hdfs && !solr && !api && !kafka || 
								s3">
									<label class="input">BUCKET
									<input type="text" required [(ngModel)]="information.bucket"  name="bucket" placeholder="Bucket" #bucket="ngModel">
									</label>
								</section>

									
								<!-- ######## End S3 COMPONENT ######## -->
								<section *ngIf="db || api">
								<label class="input">URL
								<input type="url" required [(ngModel)]="information.url"  name="url" placeholder="DB URL" id="url" #url="ngModel">
								</label>  
								<div *ngIf="url.errors && (url.dirty || url.touched)" class="alert alert-danger" >
								<div [hidden]="!url.errors.required">
								Url is required!
								</div>
								<div [hidden]="url.errors.required">
								Please enter valid input
								</div>
								</div>
								</section>
								<section *ngIf="db || ftp || file || api || kafka || elasticsearch || hdfs || solr">
								<label class="input"> DESCRIPTION 
								<input type="text" [(ngModel)]="information.description"  name="description" placeholder="Description" id="desc" #description="ngModel">
								</label> 
								</section>
								</fieldset>
								<fieldset>
								</fieldset>
								<footer>
								<div class="actions">
								<button type="button" class="btn btn-sm btn-success btn-next" [disabled]="!generalForm.form.valid" >
								Next<i class="fa fa-arrow-right"></i>
								</button>
								<button type="button" class="btn btn-sm btn-primary btn-prev">
								<i class="fa fa-arrow-left"></i>Prev
								</button>
								</div>
								</footer>
								</form>
								</div>
								<!-- ...................	Properties tab..................... -->
								<div class="step-pane active" data-step="2">
								   <h1>Properties</h1>
								   <form id="smart-form-properties" class="smart-form client-form" #generalForm2="ngForm">
									 	  <fieldset>
												<!-- #### DB COMPONENT ####  -->
										<section *ngIf="db">
											<label class="input"> Check connection Query
											<input type="text" [(ngModel)]="information.properties" required name="query" placeholder="Check Connection Query" id="query" #properties="ngModel">
											</label> 
										 </section>
										 		<!-- #### END DB COMPONENT ####  -->
										 		<!-- ####  API COMPONENT ####  -->
										 <section  *ngIf="api">
										<label class="select" >API TYPE
										<select name="type"  [(ngModel)]="information.api_type"  #api_type="ngModel" > Select Auth type
										<option value="0" selected disabled>Select Auth type</option>
										<option value="simple">Simple</option>
										<option value="oAuth">oAuth</option>
								
										</select> </label>
										</section>
										<section *ngIf="api">
											<label class="select" >OAUTH VERSION
											<select name="type"  [(ngModel)]="information.oauth_version"  #oauth_version="ngModel" > Select OAuth Version
											<option value="0" selected disabled>Select OAuth version</option>
											<option value="simple">oAuth1</option>
											<option value="oAuth">oAuth2</option>
									
											</select> </label>
											</section>
											<section *ngIf="api">
												<label class="input"> CALLBACK
												<input type="text" [(ngModel)]="information.callback" required name="callback" placeholder="Callback" id="callback" #callback="ngModel">
												</label> 
											 </section>
											 <section *ngIf="api">
												<label class="input"> CALLBACK
												<input type="text" [(ngModel)]="information.callback" required name="callback" placeholder="Callback" id="callback" #callback="ngModel">
												</label> 
											 </section>
											 <section *ngIf="api">
												<label class="input"> REFERENCE URL
												<input type="text" [(ngModel)]="information.reference_url" required name="reference_url" placeholder="Reference Url" id="reference_url" #reference_url="ngModel">
												</label> 
											 </section>
											 <section *ngIf="api">
												<label class="input"> TOKEN
												<input type="text" [(ngModel)]="information.token" required name="token" placeholder="Token" id="token" #token="ngModel">
												</label> 
											 </section>
											 <section *ngIf="api">
												<label class="input"> SELECT TOKEN
												<input type="text" [(ngModel)]="information.select_token" required name="select_token" placeholder="Select Token" id="select_token" #select_token="ngModel">
												</label> 
											 </section>
											 
												 <!-- #### END API COMPONENT ####  -->

												 <!-- #### KAFKA AND SOLR COMPONENT ####  -->
												 <section *ngIf="kafka || solr">
													<label class="input"> ZOOKEEPER
													<input type="text" [(ngModel)]="information.zookeeper" required name="zookeeper" placeholder="Zookeeper" id="zookeeper" #zookeeper="ngModel">
													</label> 
												 </section>
												 <!-- #### END KAFKA AND SOLR COMPONENT ####  -->
									  </fieldset>
									  <footer>
										 <div class="actions">
											<button type="button" (click)="save(information)" class="btn btn-sm btn-success btn-next" [disabled]="!generalForm2.form.valid" (click)="lgModal.hide()" >
											Finish
											</button>
											<button type="button" class="btn btn-sm btn-primary btn-prev">
											<i class="fa fa-arrow-left"></i>Prev
											</button>
										 </div>
									  </footer>
								   </form>
								</div>
								</form>
							 </div>
						  </fuel-ux-wizard>
					   </div>
					   <!-- end widget content -->
					   <!-- end widget div -->
					</div>
				 </div>
			  </div>
		   </div>
		</div>
	 </div>
	 <!--delete-->
	 <p-confirmDialog></p-confirmDialog>
	 <!--delete-->
	 <!--add-->
	 <!--add tag-->
	 <div class="">
		<div bsModal #tagModal="bs-modal" class="modal fade" tabindex="-1"
		   role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
		   <div class="modal-dialog modal-lg">
			  <div class="modal-content">
				 <div class="modal-header">
					<button type="button" class="close" (click)="tagModal.hide()"
					   aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">tag modal</h4>
				 </div>
				 <div class="modal-body">...</div>
			  </div>
		   </div>
		</div>
	 </div>
	 <!--end add tag-->
	 <!-- end well-->